<?xml version="1.0" encoding="UTF-8"?>
<!-- инженерный вестник дона -->
<databaseChangeLog
        xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:schemaLocation="
        http://www.liquibase.org/xml/ns/dbchangelog
        https://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-4.23.xsd">

    <changeSet id="0-init-schema" author="kaspshitskii" runInTransaction="false">
        <sqlFile
                path="migration/0_init_schema.sql"
                relativeToChangelogFile="true"
                endDelimiter=";"
                splitStatements="true"
                stripComments="true"/>
    </changeSet>

    <changeSet id="00-init-db" author="kaspshitskii">
        <sqlFile
                path="migration/00_init.sql"
                relativeToChangelogFile="true"
                endDelimiter=";"
                splitStatements="true"
                stripComments="true"/>
    </changeSet>

    <changeSet id="01-chat-memory" author="kaspshitskii">
        <sqlFile
                path="migration/01_spring_ai_chat_memory.sql"
                relativeToChangelogFile="true"
                endDelimiter=";"
                splitStatements="true"
                stripComments="true"/>
    </changeSet>

    <changeSet id="02-indexes-for-nodes" author="kaspshitskii">
        <sqlFile
                path="migration/02_constraint_and_indexs.sql"
                relativeToChangelogFile="true"
                endDelimiter=";"
                splitStatements="true"
                stripComments="true"/>
    </changeSet>

    <changeSet id="03-recreate-enums-types" author="kaspshitskii">
        <sqlFile
                path="migration/03_recreate_enums_types.sql"
                relativeToChangelogFile="true"
                endDelimiter=";"
                splitStatements="true"
                stripComments="true"/>
    </changeSet>

    <changeSet id="04-add-inherits-to-edge" author="kaspshitskii">
        <sqlFile
                path="migration/04_add_inherits_to_edge.sql"
                relativeToChangelogFile="true"
                endDelimiter=";"
                splitStatements="true"
                stripComments="true"/>
    </changeSet>

    <changeSet id="05-add-pgvector" author="kaspshitskii">
        <sqlFile
                path="migration/05_add_pgvector.sql"
                relativeToChangelogFile="true"
                endDelimiter=";"
                splitStatements="true"
                stripComments="true"/>
    </changeSet>

    <changeSet id="06-add-metadata-to-chunk" author="kaspshitskii">
        <sqlFile
                path="migration/06_add_metadata_to_chunk.sql"
                relativeToChangelogFile="true"
                endDelimiter=";"
                splitStatements="true"
                stripComments="true"/>
    </changeSet>

    <changeSet id="08-redesign-node-doc" author="kaspshitskii">
        <sqlFile
                path="migration/08_redesign_node_doc.sql"
                relativeToChangelogFile="true"
                endDelimiter=";"
                splitStatements="true"
                stripComments="true"/>
    </changeSet>

    <changeSet id="09-slim-chunk-for-rag" author="kaspshitskii">
        <sqlFile
                path="migration/09_slim_chunk_for_rag.sql"
                relativeToChangelogFile="true"
                endDelimiter=";"
                splitStatements="true"
                stripComments="true"/>
    </changeSet>

    <changeSet id="10-node-indexes" author="kaspshitskii">
        <sqlFile
                path="migration/10_node_indexes.sql"
                relativeToChangelogFile="true"
                endDelimiter=";"
                splitStatements="true"
                stripComments="true"/>
    </changeSet>

    <changeSet id="11-add-annotation-node-kind" author="kaspshitskii">
        <sqlFile
                path="migration/11_add_annotation_node_kind.sql"
                relativeToChangelogFile="true"
                endDelimiter=";"
                splitStatements="true"
                stripComments="true"/>
    </changeSet>

    <changeSet id="12-add-calls-camel-edge-kind" author="kaspshitskii">
        <sqlFile
                path="migration/12_add_calls_camel_to_edge_kind.sql"
                relativeToChangelogFile="true"
                endDelimiter=";"
                splitStatements="true"
                stripComments="true"/>
    </changeSet>
</databaseChangeLog>
